@model Web.Iot.PortalService.Models.ViewModels.HomeModel
@using Web.Iot.Shared.Setting;
@{
    ViewData["Title"] = "Index";
}

@{ if (Model.SettingExists)
    {
    <div class="container">
        <div class="setting__div">
            <b class="setting__id__a">Current Configuration Id: </b>
            <a class="setting__id__a">@Model.Configuration.Id</a>
        </div>
        <div class="setting__div">
            <form asp-controller="Home" asp-action="Save" method="post">
                    @{ for (int i = 0; i < Model.Configuration.Settings.Count(); i++)
                        {
                            <div class="form-row" >
                                <label class="form-check-label" asp-for=@Model.Configuration.Settings[i].Name></label>
                                <input class="form-control" asp-for=@Model.Configuration.Settings[i].Name />
                                <label class="form-check-label " asp-for=@Model.Configuration.Settings[i].Type></label>
                                <select class="form-control " asp-for=@Model.Configuration.Settings[i].Type asp-items=@Model.ValidSettingTypes></select>
                                <label class="form-check-label" asp-for=@Model.Configuration.Settings[i].Value></label>
                                <input class="form-control " asp-for=@Model.Configuration.Settings[i].Value />
                            </div>
                        }
                    }
                    <button class="btn btn-primary" type="submit">Save</button>
            </form>
        </div>
        <br />
    </div>
    }
    else
    {
        <div class="setting__div"></div>

        <div class="setting__div">
            <b class="setting__id__a">Current Configuration Id: </b>
            <a class="setting__id__a">Setting Non-existent</a>
        </div>
    }
}



